{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport StarRating from \"react-native-star-rating\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Request = function Request(_ref) {\n  var id = _ref.id,\n    title = _ref.title,\n    desc = _ref.desc,\n    type = _ref.type,\n    budget = _ref.budget,\n    image = _ref.image,\n    accountType = _ref.accountType,\n    onDatabaseUpdate = _ref.onDatabaseUpdate,\n    name = _ref.name,\n    total = _ref.total;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showFull = _useState2[0],\n    setShowFull = _useState2[1];\n  var toggleShowFull = function toggleShowFull() {\n    setShowFull(!showFull);\n  };\n  var words = desc.split(\" \");\n  var shortText = words.slice(0, 10).join(\" \");\n  var handleRequest = function handleRequest() {\n    axios.patch(\"/request/\" + id).then(function (response) {\n      console.log(\"done\");\n      onDatabaseUpdate();\n    }).catch(function (error) {\n      console.log(\"Error updating report:\", error);\n    });\n  };\n  return _jsxs(_StyledComponent, {\n    className: \"mx-4 p-2 mb-2 rounded-lg flex-row\",\n    style: {\n      backgroundColor: \"rgba(255, 255, 255, 0.4)\"\n    },\n    component: View,\n    children: [_jsx(_StyledComponent, {\n      source: {\n        uri: \"data:image/png;base64,\" + image\n      },\n      style: {\n        height: 200\n      },\n      className: \"rounded-2xl w-2/5\",\n      component: Image\n    }), _jsxs(_StyledComponent, {\n      className: \"m-3 w-3/5\",\n      component: View,\n      children: [_jsx(Text, {\n        children: name\n      }), _jsx(_StyledComponent, {\n        className: \"flex-row space-x-3\",\n        component: View,\n        children: _jsx(_StyledComponent, {\n          className: \"flex-row space-x-1\",\n          component: View,\n          children: _jsx(StarRating, {\n            disabled: true,\n            starSize: 15,\n            containerStyle: {\n              width: 90\n            },\n            maxStars: 5,\n            halfStarColor: \"gold\",\n            rating: Number(total),\n            emptyStar: require(\"../assets/images/emptyStar.png\"),\n            fullStar: require(\"../assets/images/fullStar.png\")\n          })\n        })\n      }), _jsx(_StyledComponent, {\n        className: \" font-bold \",\n        component: Text,\n        children: title\n      }), showFull ? _jsxs(_StyledComponent, {\n        className: \"w-10/12\",\n        component: View,\n        children: [_jsx(_StyledComponent, {\n          className: \"text-gray-600 text-justify\",\n          component: Text,\n          children: desc\n        }), _jsx(_StyledComponent, {\n          onPress: toggleShowFull,\n          className: \"p-3 bg-black w-24 rounded-lg my-2\",\n          component: TouchableOpacity,\n          children: _jsx(_StyledComponent, {\n            className: \"text-white\",\n            component: Text,\n            children: \"Show less\"\n          })\n        })]\n      }) : _jsxs(_StyledComponent, {\n        className: \"w-10/12\",\n        component: View,\n        children: [_jsxs(_StyledComponent, {\n          className: \"text-gray-600 text-justify\",\n          component: Text,\n          children: [shortText, \"...\"]\n        }), _jsx(_StyledComponent, {\n          onPress: toggleShowFull,\n          className: \"p-3 bg-black w-24 rounded-lg my-2\",\n          component: TouchableOpacity,\n          children: _jsx(_StyledComponent, {\n            className: \"text-white\",\n            component: Text,\n            children: \"Show more\"\n          })\n        })]\n      }), _jsxs(_StyledComponent, {\n        className: \"flex-row justify-between items-center w-10/12\",\n        component: View,\n        children: [_jsx(_StyledComponent, {\n          className: \" font-bold text-black mr-2\",\n          component: Text,\n          children: type\n        }), _jsxs(_StyledComponent, {\n          className: \"text-black \",\n          component: Text,\n          children: [\"Budget: \", budget, \" PKR\"]\n        })]\n      }), accountType == \"Admin\" && _jsx(_StyledComponent, {\n        onPress: handleRequest,\n        className: \"p-3 bg-black w-24 rounded-lg my-2\",\n        component: TouchableOpacity,\n        children: _jsx(_StyledComponent, {\n          className: \"text-white\",\n          component: Text,\n          children: \"Block\"\n        })\n      })]\n    })]\n  });\n};\nexport default Request;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"m-3\": {\n      \"marginTop\": 12,\n      \"marginRight\": 12,\n      \"marginBottom\": 12,\n      \"marginLeft\": 12\n    },\n    \"mx-4\": {\n      \"marginLeft\": 16,\n      \"marginRight\": 16\n    },\n    \"my-2\": {\n      \"marginTop\": 8,\n      \"marginBottom\": 8\n    },\n    \"mb-2\": {\n      \"marginBottom\": 8\n    },\n    \"mr-2\": {\n      \"marginRight\": 8\n    },\n    \"w-10/12\": {\n      \"width\": \"83.333333%\"\n    },\n    \"w-2/5\": {\n      \"width\": \"40%\"\n    },\n    \"w-24\": {\n      \"width\": 96\n    },\n    \"w-3/5\": {\n      \"width\": \"60%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"rounded-2xl\": {\n      \"borderTopLeftRadius\": 16,\n      \"borderTopRightRadius\": 16,\n      \"borderBottomRightRadius\": 16,\n      \"borderBottomLeftRadius\": 16\n    },\n    \"rounded-lg\": {\n      \"borderTopLeftRadius\": 8,\n      \"borderTopRightRadius\": 8,\n      \"borderBottomRightRadius\": 8,\n      \"borderBottomLeftRadius\": 8\n    },\n    \"bg-black\": {\n      \"backgroundColor\": \"#000\"\n    },\n    \"p-2\": {\n      \"paddingTop\": 8,\n      \"paddingRight\": 8,\n      \"paddingBottom\": 8,\n      \"paddingLeft\": 8\n    },\n    \"p-3\": {\n      \"paddingTop\": 12,\n      \"paddingRight\": 12,\n      \"paddingBottom\": 12,\n      \"paddingLeft\": 12\n    },\n    \"text-justify\": {\n      \"textAlign\": \"justify\"\n    },\n    \"font-bold\": {\n      \"fontWeight\": \"700\"\n    },\n    \"text-black\": {\n      \"color\": \"#000\"\n    },\n    \"text-gray-600\": {\n      \"color\": \"#4b5563\"\n    },\n    \"text-white\": {\n      \"color\": \"#fff\"\n    },\n    \"space-x-1.children@0\": {\n      \"marginLeft\": 4\n    },\n    \"space-x-3.children@0\": {\n      \"marginLeft\": 12\n    }\n  },\n  atRules: {\n    \"space-x-1.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]],\n    \"space-x-3.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]]\n  },\n  childClasses: {\n    \"space-x-1\": [\"space-x-1.children\"],\n    \"space-x-3\": [\"space-x-3.children\"]\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useNavigation","StarRating","axios","jsx","_jsx","jsxs","_jsxs","Request","_ref","id","title","desc","type","budget","image","accountType","onDatabaseUpdate","name","total","_useState","_useState2","_slicedToArray","showFull","setShowFull","toggleShowFull","words","split","shortText","slice","join","handleRequest","patch","then","response","console","log","catch","error","_StyledComponent","className","style","backgroundColor","component","View","children","source","uri","height","Image","Text","disabled","starSize","containerStyle","width","maxStars","halfStarColor","rating","Number","emptyStar","require","fullStar","onPress","TouchableOpacity","_NativeWindStyleSheet","create","styles","atRules","childClasses"],"sources":["D:/Project/FYP APP/Project/frontend/components/Request.js"],"sourcesContent":["import { View, Text, TouchableOpacity, Image } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport StarRating from \"react-native-star-rating\";\r\n\r\nimport axios from \"axios\";\r\nconst Request = ({\r\n  id,\r\n  title,\r\n  desc,\r\n  type,\r\n  budget,\r\n  image,\r\n  accountType,\r\n  onDatabaseUpdate,\r\n  name,\r\n  total,\r\n}) => {\r\n  const [showFull, setShowFull] = useState(false);\r\n  const toggleShowFull = () => {\r\n    setShowFull(!showFull);\r\n  };\r\n  const words = desc.split(\" \");\r\n  const shortText = words.slice(0, 10).join(\" \");\r\n  const handleRequest = () => {\r\n    axios\r\n      .patch(`/request/${id}`)\r\n      .then((response) => {\r\n        console.log(\"done\");\r\n        onDatabaseUpdate();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error updating report:\", error);\r\n      });\r\n  };\r\n  return (\r\n    <View\r\n      className=\"mx-4 p-2 mb-2 rounded-lg flex-row\"\r\n      style={{ backgroundColor: \"rgba(255, 255, 255, 0.4)\" }}\r\n    >\r\n      <Image\r\n        source={{\r\n          uri: `data:image/png;base64,${image}`,\r\n        }}\r\n        style={{ height: 200 }}\r\n        className=\"rounded-2xl w-2/5\"\r\n      />\r\n      <View className=\"m-3 w-3/5\">\r\n        <Text>{name}</Text>\r\n        <View className=\"flex-row space-x-3\">\r\n          <View className=\"flex-row space-x-1\">\r\n            <StarRating\r\n              disabled={true}\r\n              starSize={15}\r\n              containerStyle={{ width: 90 }}\r\n              maxStars={5}\r\n              halfStarColor=\"gold\"\r\n              rating={Number(total)}\r\n              emptyStar={require(\"../assets/images/emptyStar.png\")}\r\n              fullStar={require(\"../assets/images/fullStar.png\")}\r\n            />\r\n          </View>\r\n        </View>\r\n        <Text className=\" font-bold \">{title}</Text>\r\n        {showFull ? (\r\n          <View className=\"w-10/12\">\r\n            <Text className=\"text-gray-600 text-justify\">{desc}</Text>\r\n            <TouchableOpacity\r\n              onPress={toggleShowFull}\r\n              className=\"p-3 bg-black w-24 rounded-lg my-2\"\r\n            >\r\n              <Text className=\"text-white\">Show less</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        ) : (\r\n          <View className=\"w-10/12\">\r\n            <Text className=\"text-gray-600 text-justify\">{shortText}...</Text>\r\n            <TouchableOpacity\r\n              onPress={toggleShowFull}\r\n              className=\"p-3 bg-black w-24 rounded-lg my-2\"\r\n            >\r\n              <Text className=\"text-white\">Show more</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        )}\r\n\r\n        <View className=\"flex-row justify-between items-center w-10/12\">\r\n          <Text className=\" font-bold text-black mr-2\">{type}</Text>\r\n          <Text className=\"text-black \">Budget: {budget} PKR</Text>\r\n        </View>\r\n        {accountType == \"Admin\" && (\r\n          <TouchableOpacity\r\n            onPress={handleRequest}\r\n            className=\"p-3 bg-black w-24 rounded-lg my-2\"\r\n          >\r\n            <Text className=\"text-white\">Block</Text>\r\n          </TouchableOpacity>\r\n        )}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Request;\r\n"],"mappings":";;;;;;;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,0BAA0B;AACxD,OAAOC,UAAU,MAAM,0BAA0B;AAEjD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAC1B,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAAC,IAAA,EAWP;EAAA,IAVJC,EAAE,GAAAD,IAAA,CAAFC,EAAE;IACFC,KAAK,GAAAF,IAAA,CAALE,KAAK;IACLC,IAAI,GAAAH,IAAA,CAAJG,IAAI;IACJC,IAAI,GAAAJ,IAAA,CAAJI,IAAI;IACJC,MAAM,GAAAL,IAAA,CAANK,MAAM;IACNC,KAAK,GAAAN,IAAA,CAALM,KAAK;IACLC,WAAW,GAAAP,IAAA,CAAXO,WAAW;IACXC,gBAAgB,GAAAR,IAAA,CAAhBQ,gBAAgB;IAChBC,IAAI,GAAAT,IAAA,CAAJS,IAAI;IACJC,KAAK,GAAAV,IAAA,CAALU,KAAK;EAEL,IAAAC,SAAA,GAAgCpB,QAAQ,CAAC,KAAK,CAAC;IAAAqB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAxCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAMI,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;IAC3BD,WAAW,CAAC,CAACD,QAAQ,CAAC;EACxB,CAAC;EACD,IAAMG,KAAK,GAAGd,IAAI,CAACe,KAAK,CAAC,GAAG,CAAC;EAC7B,IAAMC,SAAS,GAAGF,KAAK,CAACG,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAC9C,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;IAC1B5B,KAAK,CACF6B,KAAK,eAAatB,EAAI,CAAC,CACvBuB,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnBnB,gBAAgB,CAAC,CAAC;IACpB,CAAC,CAAC,CACDoB,KAAK,CAAC,UAACC,KAAK,EAAK;MAChBH,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEE,KAAK,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC;EACD,OAAA/B,KAAA,CAAAgC,gBAAA;IAEIC,SAAS,EAAC,mCAAmC;IAC7CC,KAAK,EAAE;MAAEC,eAAe,EAAE;IAA2B,CAAE;IAAAC,SAAA,EAAAC,IAAA;IAAAC,QAAA,GAAAxC,IAAA,CAAAkC,gBAAA;MAGrDO,MAAM,EAAE;QACNC,GAAG,6BAA2BhC;MAChC,CAAE;MACF0B,KAAK,EAAE;QAAEO,MAAM,EAAE;MAAI,CAAE;MACvBR,SAAS,EAAC,mBAAmB;MAAAG,SAAA,EAAAM;IAAA,IAAA1C,KAAA,CAAAgC,gBAAA;MAEzBC,SAAS,EAAC,WAAW;MAAAG,SAAA,EAAAC,IAAA;MAAAC,QAAA,GACzBxC,IAAA,CAAC6C,IAAI;QAAAL,QAAA,EAAE3B;MAAI,CAAO,CAAC,EAAAb,IAAA,CAAAkC,gBAAA;QACbC,SAAS,EAAC,oBAAoB;QAAAG,SAAA,EAAAC,IAAA;QAAAC,QAAA,EAAAxC,IAAA,CAAAkC,gBAAA;UAC5BC,SAAS,EAAC,oBAAoB;UAAAG,SAAA,EAAAC,IAAA;UAAAC,QAAA,EAClCxC,IAAA,CAACH,UAAU;YACTiD,QAAQ,EAAE,IAAK;YACfC,QAAQ,EAAE,EAAG;YACbC,cAAc,EAAE;cAAEC,KAAK,EAAE;YAAG,CAAE;YAC9BC,QAAQ,EAAE,CAAE;YACZC,aAAa,EAAC,MAAM;YACpBC,MAAM,EAAEC,MAAM,CAACvC,KAAK,CAAE;YACtBwC,SAAS,EAAEC,OAAO,iCAAiC,CAAE;YACrDC,QAAQ,EAAED,OAAO,gCAAgC;UAAE,CACpD;QAAC;MAAA,IAAAvD,IAAA,CAAAkC,gBAAA;QAGAC,SAAS,EAAC,aAAa;QAAAG,SAAA,EAAAO,IAAA;QAAAL,QAAA,EAAElC;MAAK,IACnCY,QAAQ,GAAAhB,KAAA,CAAAgC,gBAAA;QACDC,SAAS,EAAC,SAAS;QAAAG,SAAA,EAAAC,IAAA;QAAAC,QAAA,GAAAxC,IAAA,CAAAkC,gBAAA;UACjBC,SAAS,EAAC,4BAA4B;UAAAG,SAAA,EAAAO,IAAA;UAAAL,QAAA,EAAEjC;QAAI,IAAAP,IAAA,CAAAkC,gBAAA;UAEhDuB,OAAO,EAAErC,cAAe;UACxBe,SAAS,EAAC,mCAAmC;UAAAG,SAAA,EAAAoB,gBAAA;UAAAlB,QAAA,EAAAxC,IAAA,CAAAkC,gBAAA;YAEvCC,SAAS,EAAC,YAAY;YAAAG,SAAA,EAAAO,IAAA;YAAAL,QAAA,EAAC;UAAS;QAAA;MAAA,KAAAtC,KAAA,CAAAgC,gBAAA;QAIpCC,SAAS,EAAC,SAAS;QAAAG,SAAA,EAAAC,IAAA;QAAAC,QAAA,GAAAtC,KAAA,CAAAgC,gBAAA;UACjBC,SAAS,EAAC,4BAA4B;UAAAG,SAAA,EAAAO,IAAA;UAAAL,QAAA,GAAEjB,SAAS,EAAC,KAAG;QAAA,IAAAvB,IAAA,CAAAkC,gBAAA;UAEzDuB,OAAO,EAAErC,cAAe;UACxBe,SAAS,EAAC,mCAAmC;UAAAG,SAAA,EAAAoB,gBAAA;UAAAlB,QAAA,EAAAxC,IAAA,CAAAkC,gBAAA;YAEvCC,SAAS,EAAC,YAAY;YAAAG,SAAA,EAAAO,IAAA;YAAAL,QAAA,EAAC;UAAS;QAAA;MAAA,EAG3C,EAAAtC,KAAA,CAAAgC,gBAAA;QAEKC,SAAS,EAAC,+CAA+C;QAAAG,SAAA,EAAAC,IAAA;QAAAC,QAAA,GAAAxC,IAAA,CAAAkC,gBAAA;UACvDC,SAAS,EAAC,4BAA4B;UAAAG,SAAA,EAAAO,IAAA;UAAAL,QAAA,EAAEhC;QAAI,IAAAN,KAAA,CAAAgC,gBAAA;UAC5CC,SAAS,EAAC,aAAa;UAAAG,SAAA,EAAAO,IAAA;UAAAL,QAAA,GAAC,UAAQ,EAAC/B,MAAM,EAAC,MAAI;QAAA;MAAA,IAEnDE,WAAW,IAAI,OAAO,IAAAX,IAAA,CAAAkC,gBAAA;QAEnBuB,OAAO,EAAE/B,aAAc;QACvBS,SAAS,EAAC,mCAAmC;QAAAG,SAAA,EAAAoB,gBAAA;QAAAlB,QAAA,EAAAxC,IAAA,CAAAkC,gBAAA;UAEvCC,SAAS,EAAC,YAAY;UAAAG,SAAA,EAAAO,IAAA;UAAAL,QAAA,EAAC;QAAK;MAAA,EAErC;IAAA;EAAA;AAIT,CAAC;AAED,eAAerC,OAAO;AAACwD,qBAAA,CAAAC,MAAA;EAAAC,MAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;EAAA;EAAAC,OAAA;IAAA;IAAA;EAAA;EAAAC,YAAA;IAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}